<div
  *ngIf="(loaded$ | async); else spinner"
  class="page-wrapper">
  <p-tabView
    class="page-wrapper"
    [(activeIndex)]="activeTab"
    (activeIndexChange)="updateCv()">

    <p-tabPanel header="Info">
      <cv-gen-info-form [formControl]="cvaEmployeeInfoForm"></cv-gen-info-form>
    </p-tabPanel>

    <p-tabPanel header="CV">
      <div class="cv-wrapper">
        <cv-gen-cvs-sidebar [cvForm]="cvaCvForm"></cv-gen-cvs-sidebar>
        <cv-gen-cv-form [formControl]="cvaCvForm"></cv-gen-cv-form>
      </div>
    </p-tabPanel>

  </p-tabView>

  <div class="button-wrapper">
    <div>
      <p-button
        label="Save"
        (click)="saveEmployeeWithCvs()"></p-button>
    </div>
    <div class="delete-button">
      <p-button
        icon="pi pi-trash"
        styleClass="p-button-rounded p-button-text p-button-raised"
        (click)="deleteEmployee()"></p-button>
    </div>
  </div>
</div>

<ng-template #spinner>
  <p-progressSpinner></p-progressSpinner>
</ng-template>
