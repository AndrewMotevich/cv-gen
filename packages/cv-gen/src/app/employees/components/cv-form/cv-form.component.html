<form [formGroup]="form">
  <div class="employee-info">
    <cv-gen-text-input
      label="First name"
      placeholder="Enter your first name"
      formControlName="firstName"></cv-gen-text-input>

    <cv-gen-text-input
      label="Last name"
      placeholder="Enter your last name"
      formControlName="lastName"></cv-gen-text-input>

    <cv-gen-text-input
      label="Email"
      placeholder="Enter your email"
      formControlName="email"></cv-gen-text-input>

    <cv-gen-select-input
      label="Department"
      placeholder="Select your department"
      formControlName="department"
      [options]="departments$ | async"></cv-gen-select-input>

    <cv-gen-select-input
      label="Specialization"
      placeholder="Select your specialization"
      formControlName="specialization"
      [options]="specializations$ | async"></cv-gen-select-input>
  </div>

  <div class="add-button">
    <p-button
      label="Add Project"
      (click)="addProjectForm()"></p-button>
  </div>

  <div formArrayName="projects">
    <div
      *ngFor="let formGroup of projects.controls; let index = index"
      [formGroupName]="index">
      <p-accordion>
        <p-accordionTab [header]="">
          <ng-template pTemplate="header">
            <div class="accordion-header-wrapper">
                <span class="vertical-align-middle">{{'Project ' + (index + 1)}}</span>
                <div class="delete-button">
                  <p-button
                    icon="pi pi-trash"
                    styleClass="p-button-rounded p-button-text p-button-raised"
                    (click)="deleteProjectForm(index)"></p-button>
                </div>
            </div>
        </ng-template>
          <cv-gen-project-form formControlName="project"></cv-gen-project-form>
        </p-accordionTab>
      </p-accordion>
    </div>
  </div>

</form>
<ng-content></ng-content>
